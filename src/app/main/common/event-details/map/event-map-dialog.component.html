<app-modal title="Event map" [showValidateButton]="false">

  <agm-map [latitude]="event.latitude" [longitude]="event.longitude"
           [zoom]="zoom" [styles]="mapStyle">

    <agm-marker>
      <agm-overlay
        [latitude]="event.latitude"
        [longitude]="event.longitude">

        <div class="event-map-marker-overlay"
             style="-webkit-mask-box-image: url('../../../../../assets/event_marker.png');"
             [ngStyle]="{'background-color': event.severity.color}">
          <img [src]="getImage(event.type.imagePath)" class="event-map-type-image">
        </div>
        <img src="assets/event_marker_border.png" class="event-map-marker-overlay" style="position: absolute"/>

      </agm-overlay>
    </agm-marker>

    <agm-circle *ngIf="event.impactRadius"
                [latitude]="event.latitude"
                [longitude]="event.longitude"
                [radius]="event.impactRadius * 1000"
                [fillColor]="event.severity.color"
                [fillOpacity]="0.5"
                [strokeColor]="'#8C8C8C'"
                [strokeOpacity]="0.5"
                [strokeWeight]="2.5"
                [strokePosition]="'OUTSIDE'">
    </agm-circle>

  </agm-map>
</app-modal>
